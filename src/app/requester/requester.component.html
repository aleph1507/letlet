<div class="requester-container">
  <form class="requester-form" id="requester-form" (ngSubmit)="onSubmit()" [formGroup]="requesterForm" novalidate>
    <mat-form-field class="requester-field">
      <input matInput
        placeholder="Requester Name"
        id="requesterName"
        name="requesterName"
        formControlName="requesterName"
        autocomplete="off"
        required>
    </mat-form-field>
    <mat-form-field class="requester-field">
      <textarea name="requesterDescription"
        id="requesterDescription"
        matInput placeholder="Description"
        formControlName="requesterDescription"
        autocomplete="off"
      ></textarea>
    </mat-form-field>
    <mat-form-field class="requester-field">
      <input matInput
        formControlName="requesterCompany"
        [matAutocomplete]="companyAuto"
        name="requesterCompany"
        id="requesterCompany"
        placeholder="Company" required>
        <mat-autocomplete #companyAuto="matAutocomplete">
          <mat-option *ngFor="let company of filteredCompanies | async" [value]="company">
            {{ company }}
          </mat-option>
        </mat-autocomplete>
    </mat-form-field>
    <mat-form-field>
      <input matInput [matDatepicker]="fromPicker" placeholder="From date"
      formControlName="requesterFromDate" required>
      <mat-datepicker-toggle matSuffix [for]="fromPicker"></mat-datepicker-toggle>
      <mat-datepicker #fromPicker></mat-datepicker>
    </mat-form-field>
    <mat-form-field>
      <input matInput [matDatepicker]="toPicker" placeholder="To date"
      formControlName="requesterToDate" required>
      <mat-datepicker-toggle matSuffix [for]="toPicker"></mat-datepicker-toggle>
      <mat-datepicker #toPicker></mat-datepicker>
    </mat-form-field>
    <mat-form-field class="requester-field">
      <input matInput
        formControlName="requesterNumOfEntries"
        type="number"
        name="requesterNumOfEntries"
        id="requesterNumOfEntries"
        placeholder="Number of entries"
        autocomplete="off"
        >
    </mat-form-field>
    <button mat-raised-button type="submit" color="primary" [disabled]="!requesterForm.valid" class="main-send">Send</button>
  </form>
  <div class="requester-props-container">
    <div class="requester-prop mat-elevation-z8">

      <mat-list dense role="list">
        <mat-list-item *ngFor="let person of requesterService.getAllPersons(); let i = index">
          <div class="list-row">
            <div>
              <span class="person-name">{{person.name}}</span>
              <span class="person-surname">{{person.surname}}</span>
            </div>
            <div>
              <mat-icon matListIcon
                (click)="editPerson(i)"
                class="icon-control"
                >mode_edit</mat-icon>
              <mat-icon matListIcon
                (click)="deletePerson(i)"
                class="icon-control">delete</mat-icon>
            </div>
          </div>
          <mat-divider></mat-divider>
        </mat-list-item>
      </mat-list>
      <button mat-mini-fab color="primary" (click)="openPersonDialog()" id="plusPerson">+
      </button>
    </div>
    <div class="requester-prop mat-elevation-z8">

      <mat-list dense role="list">
        <mat-list-item *ngFor="let vehicle of requesterService.getAllVehicles(); let i = index">
          <div class="list-row">
            <div>
              <span class="vehicle-plate">{{vehicle.plate}}</span>
            </div>
            <div>
              <mat-icon matListIcon
                (click)="editVehicle(i)"
                class="icon-control"
                >mode_edit</mat-icon>
              <mat-icon matListIcon
                (click)="deleteVehicle(i)"
                class="icon-control">delete</mat-icon>
            </div>
          </div>
          <mat-divider></mat-divider>
        </mat-list-item>
      </mat-list>
      <button mat-mini-fab color="primary" (click)="openVehicleDialog()" id="plusVehicle">+
      </button>
    </div>
    <div style="text-align:right">
      <!-- <button mat-raised-button class="main-send">Send</button> -->
    </div>
  </div>
</div>
