<div class="requester-container">
  <form class="requester-form" id="requester-form" [formGroup]="requesterForm" novalidate>
    <mat-form-field class="requester-field">
      <input matInput
        placeholder="Requester Name"
        id="requesterName"
        name="requesterName"
        formControlName="requesterName"
        required>
    </mat-form-field>
    <mat-form-field class="requester-field">
      <textarea name="requesterDescription"
        id="requesterDescription"
        matInput placeholder="Description"
        formControlName="requesterDescription"
      ></textarea>
    </mat-form-field>
    <mat-form-field class="requester-field">
      <input matInput
        formControlName="requesterCompany"
        [matAutocomplete]="companyAuto"
        name="requesterCompany"
        id="requesterCompany"
        placeholder="Company" required>
    </mat-form-field>
    <mat-autocomplete #companyAuto="matAutocomplete">
      <mat-option *ngFor="let company of companies" [value]="company.name">
        {{ company.name }}
      </mat-option>
    </mat-autocomplete>
    <mat-form-field>
      <input matInput [matDatepicker]="fromPicker" placeholder="From date"
      formControlName="requesterFromDate" required>
      <mat-datepicker-toggle matSuffix [for]="fromPicker"></mat-datepicker-toggle>
      <mat-datepicker #fromPicker></mat-datepicker>
    </mat-form-field>
    <mat-form-field>
      <input matInput [matDatepicker]="toPicker" placeholder="To date"
      formControlName="requesterToDate" required>
      <mat-datepicker-toggle matSuffix [for]="toPicker"></mat-datepicker-toggle>
      <mat-datepicker #toPicker></mat-datepicker>
    </mat-form-field>
    <mat-form-field class="requester-field">
      <input matInput
        formControlName="requesterNumOfEntries"
        type="number"
        name="requesterNumOfEntries"
        id="requesterNumOfEntries"
        placeholder="Number of entries"
        >
    </mat-form-field>
  </form>
  <div class="requester-props-container">
    <div class="requester-prop mat-elevation-z8">

      <mat-list dense role="list">
        <mat-list-item *ngFor="let person of requesterService.getAllPersons(); let i = index">
          <div class="list-row">
            <div>
              <span class="person-name">{{person.name}}</span>
              <span class="person-surname">{{person.surname}}</span>
            </div>
            <div>
              <mat-icon matListIcon
                (click)="editPerson(i)"
                class="icon-control"
                >mode_edit</mat-icon>
              <mat-icon matListIcon
                (click)="deletePerson(i)"
                class="icon-control">delete</mat-icon>
            </div>
          </div>
          <mat-divider></mat-divider>
        </mat-list-item>
      </mat-list>

      <!-- <ul class="req_list">
        <li class="req_li" *ngFor="let person of requesterService.getAllPersons(); let i = index">
          <div class="req_info">
            <span class="person-name">{{person.name}}</span>
            <span class="person-surname">{{person.surname}}</span>
          </div>
          <div class="controls">
            <button mat-raised-button class="btn-li-control"
              (click)="editPerson(i)"><mat-icon>mode_edit</mat-icon></button>
            <button mat-raised-button class="btn-li-control"
              (click)="deletePerson(i)"><mat-icon>delete</mat-icon></button>
          </div>
        </li>
      </ul> -->
      <button mat-mini-fab color="primary" (click)="openPersonDialog()" id="plusPerson">+
        <!-- <svg style="width:24px;height:24px" viewBox="0 0 24 24">
          <path fill="#000000" d="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z" />
        </svg> -->
      </button>
    </div>
    <div class="requester-prop mat-elevation-z8">

      <mat-list dense role="list">
        <mat-list-item *ngFor="let vehicle of requesterService.getAllVehicles(); let i = index">
          <div class="list-row">
            <div>
              <span class="vehicle-plate">{{vehicle.plate}}</span>
            </div>
            <div>
              <mat-icon matListIcon
                (click)="editVehicle(i)"
                class="icon-control"
                >mode_edit</mat-icon>
              <mat-icon matListIcon
                (click)="deleteVehicle(i)"
                class="icon-control">delete</mat-icon>
            </div>
          </div>
          <mat-divider></mat-divider>
        </mat-list-item>
      </mat-list>

      <!-- <ul class="req_list">
        <li class="req_li" *ngFor="let v of requesterService.getAllVehicles(); let i = index">
            <div class="req_info">
              <span class="vehicle-plate">{{v.plate}}</span>
            </div>
            <div class="controls">
              <button mat-raised-button class="btn-li-control"
                (click)="editVehicle(i)"><mat-icon>mode_edit</mat-icon></button>
              <button mat-raised-button class="btn-li-control"
                (click)="deleteVehicle(i)"><mat-icon>delete</mat-icon></button>
            </div>
        </li>
      </ul> -->

      <button mat-mini-fab color="primary" (click)="openVehicleDialog()" id="plusVehicle">+
        <!-- <svg style="width:24px;height:24px" viewBox="0 0 24 24">
          <path fill="#000000" d="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z" />
        </svg> -->
      </button>
    </div>
    <div style="text-align:right">
      <button mat-raised-button class="main-send" [routerLink]="['/dashboard']">Send</button>
    </div>
  </div>
</div>
