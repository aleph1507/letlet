<div class="requester-container">
  <form class="requester-form" [formGroup]="requesterForm" novalidate>
    <mat-form-field class="requester-field">
      <input matInput
        placeholder="Requester Name"
        id="requesterName"
        name="requesterName"
        formControlName="requesterName"
        required>
    </mat-form-field>
    <mat-form-field class="requester-field">
      <textarea name="requesterDescription"
        id="requesterDescription"
        matInput placeholder="Description"
        formControlName="requesterDescription"
      ></textarea>
    </mat-form-field>
    <mat-form-field class="requester-field">
      <input matInput
        formControlName="requesterCompany"
        [matAutocomplete]="companyAuto"
        name="requesterCompany"
        id="requesterCompany"
        placeholder="Company" required>
    </mat-form-field>
    <mat-autocomplete #companyAuto="matAutocomplete">
      <mat-option *ngFor="let company of companies" [value]="company.name">
        {{ company.name }}
      </mat-option>
    </mat-autocomplete>
    <mat-form-field>
      <input matInput [matDatepicker]="fromPicker" placeholder="From date"
      formControlName="requesterFromDate" required>
      <mat-datepicker-toggle matSuffix [for]="fromPicker"></mat-datepicker-toggle>
      <mat-datepicker #fromPicker></mat-datepicker>
    </mat-form-field>
    <mat-form-field>
      <input matInput [matDatepicker]="toPicker" placeholder="To date"
      formControlName="requesterToDate" required>
      <mat-datepicker-toggle matSuffix [for]="toPicker"></mat-datepicker-toggle>
      <mat-datepicker #toPicker></mat-datepicker>
    </mat-form-field>
    <mat-form-field class="requester-field">
      <input matInput
        formControlName="requesterNumOfEntries"
        type="number"
        name="requesterNumOfEntries"
        id="requesterNumOfEntries"
        placeholder="Number of entries"
        >
    </mat-form-field>
  </form>
  <div class="requester-props-container">
    <div class="requester-prop mat-elevation-z8">
      <mat-table *ngIf="persons.length > 0" #pTable [dataSource]="persons">
        <ng-container matColumnDef="name">
          <mat-header-cell *matHeaderCellDef>Name</mat-header-cell>
          <mat-cell *matCellDef="let person">{{person.name}}</mat-cell>
        </ng-container>
        <ng-container matColumnDef="surname">
          <mat-header-cell *matHeaderCellDef>Surname</mat-header-cell>
          <mat-cell *matCellDef="let person">{{person.surname}}</mat-cell>
        </ng-container>

        <mat-header-row *matHeaderRowDef="displayedPersonColumns"></mat-header-row>
        <mat-row *matRowDef="let row; columns: displayedPersonColumns"></mat-row>
      </mat-table>
      <button mat-fab (click)="openPersonDialog()" id="plusPerson">
        <svg style="width:24px;height:24px" viewBox="0 0 24 24">
          <path fill="#000000" d="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z" />
        </svg>
      </button>
    </div>
    <mat-table *ngIf="persons.length > 0" #pTable [dataSource]="persons">
      <ng-container matColumnDef="name">
        <mat-header-cell *matHeaderCellDef>Name</mat-header-cell>
        <mat-cell *matCellDef="let person">{{person.name}}</mat-cell>
      </ng-container>
      <ng-container matColumnDef="surname">
        <mat-header-cell *matHeaderCellDef>Surname</mat-header-cell>
        <mat-cell *matCellDef="let person">{{person.surname}}</mat-cell>
      </ng-container>

      <mat-header-row *matHeaderRowDef="displayedPersonColumns"></mat-header-row>
      <mat-row *matRowDef="let row; columns: displayedPersonColumns"></mat-row>
    </mat-table>
    <div class="requester-prop mat-elevation-z8">
      <mat-table *ngIf="vehicles.length > 0" #vTable [dataSource]="vehicles">
        <ng-container matColumnDef="model">
          <mat-header-cell *matHeaderCellDef>Model</mat-header-cell>
          <mat-cell *matCellDef="let vehicle">{{vehicle.model}}</mat-cell>
        </ng-container>
        <ng-container matColumnDef="plate">
          <mat-header-cell *matHeaderCellDef>Plate</mat-header-cell>
          <mat-cell *matCellDef="let vehicle">{{vehicle.plate}}</mat-cell>
        </ng-container>

        <mat-header-row *matHeaderRowDef="displayedVehicleColumns"></mat-header-row>
        <mat-row *matRowDef="let row; columns: displayedVehicleColumns"></mat-row>
      </mat-table>
      <button mat-fab (click)="openVehicleDialog()" id="plusVehicle">
        <svg style="width:24px;height:24px" viewBox="0 0 24 24">
          <path fill="#000000" d="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z" />
        </svg>
      </button>
    </div>
  </div>
</div>
